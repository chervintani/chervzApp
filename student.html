<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 100%;
            border: 1px solid #ddd;
        }

        th,
        td {
            text-align: left;
            padding: 16px;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2
        }
    </style>
</head>

<body class="jumbotron text-center">
    <div id="studentbtn">
        <button type="button" class="btn btn-primary float-left">Add Student</button>
    </div><br><br>
    <div id="createForm" style="display: none">
        <main class="login-form">
            <div class="cotainer">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">Add Student</div>
                            <div class="card-body">
                                <form>
                                    <div class="form-group row">
                                        <label for="email_address"
                                            class="col-md-4 col-form-label text-md-right">Name</label>
                                        <div class="col-md-6">
                                            <input type="text" id="name" class="form-control" name="email-address"
                                                required autofocus>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label for="email_address" class="col-md-4 col-form-label text-md-right">Course
                                            & Year</label>
                                        <div class="col-md-6">
                                            <input type="text" id="course" class="form-control" name="email-address"
                                                required autofocus>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label for="email_address"
                                            class="col-md-4 col-form-label text-md-right">Email</label>
                                        <div class="col-md-6">
                                            <input type="text" id="email" class="form-control" name="email-address"
                                                required autofocus>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label for="email_address"
                                            class="col-md-4 col-form-label text-md-right">Address</label>
                                        <div class="col-md-6">
                                            <input type="text" id="address" class="form-control" name="email-address"
                                                required autofocus>
                                        </div>
                                    </div>

                                    <div class="col-md-6 offset-md-4">
                                        <button type="button" class="btn btn-success" id="save">
                                            Save
                                        </button>
                                        <button type="button" class="btn btn-danger" id="cancel">
                                            Cancel
                                        </button>
                                    </div>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    </main>


    </div>
    <div id="classlist">
        <table id="table">
            <h2>Class List</h2>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Course & Year</th>
                <th></th>
            </tr>
        </table>
    </div>
</body>
<script>
    $(document).ready(function () {
        var ID = 0;
        var IDbtn = 1;

        $('#studentbtn').click(function () {
            $(this).css("display", "none");
            $('#createForm').css("display", "inherit");
            $('#classlist').css("display", "none");
            var $name = $('#name').val("");
            var $course = $('#course').val("");
            var $email = $('#email').val("");
            var $address = $('#address').val("");
        });
        $('#save').click(function () {
            var $name = $('#name').val();
            var $course = $('#course').val();
            var $email = $('#email').val();
            var $address = $('#address').val();
            var $edit = '<button class="editbtn btn btn-info" id=' + IDbtn + ' style="display: none">Edit</button>';
            var $delete = '<button class="deletebtn btn btn-danger" id=' + IDbtn + ' style="display: none">Delete</button>';

            if ($name === "" || $course === "" || $email === "" || $address === "") {
                alert("Please fill up all the form");
            } else {
                $('#classlist').css("display", "inherit");
                $('#createForm').css("display", "none");
                $('#studentbtn').css("display", "inherit");
                ID = ID + 1;
                IDbtn = IDbtn + 1;
                $('#table').append("<tr id=" + ID + " name='" + $name + "' course='" + $course + "' email='" + $email + "' address='" + $address + "'><td><span id=" + ID + ">" + ID + "</span></td><td id=" + ID + " name='name'>" + $name + "</td><td id=" + ID + " name='course'>" + $course + "</td><td id='button'>" + $edit + $delete + "</td></tr>");
            };
            var $name = $('#name').val("");
            var $course = $('#course').val("");
            var $email = $('#email').val("");
            var $address = $('#address').val("");
        });
        $('#cancel').click(function () {
            $('#classlist').css("display", "inherit");
            $('#createForm').css("display", "none");
            $('#studentbtn').css("display", "inherit");
        });
        $(document).on("click", '.editbtn', function () {
            $('#classlist').css("display", "none");
            $('#createForm').css("display", "inherit");
            $('#studentbtn').css("display", "none");

            $('#name').val($(this).parents("tr").attr('name'));
            $('#course').val($(this).parents("tr").attr('course'));
            $('#email').val($(this).parents("tr").attr('email'));
            $('#address').val($(this).parents("tr").attr('address'));
            

        });

        $(document).on("click", '.deletebtn', function () {
            var row = $('tr[id=' + this.id + ']').remove();

        });

        $(document).on("mouseenter", 'tr', function () {
            $(this).find('.editbtn').show();
            $(this).find('.deletebtn').show();
        });
        $(document).on("mouseleave", 'tr', function () {
            $(this).find('.editbtn').hide();
            $(this).find('.deletebtn').hide();
        });
    });
</script>

</html>